<app-authorised-top-nav></app-authorised-top-nav>
<div class="up">
<app-authorised-side-nav></app-authorised-side-nav>


<div class="ro">
  <br>

  
  <form class="form-inline d-flex justify-content-center md-form form-sm active-pink active-pink-2 mt-2">
    <i class="fas fa-search" style="color: #da054cbb;" ></i>
    <input class="form-control form-control-sm ml-3 w-75" type="serch" placeholder="Search by type of event " (input)="filter($event.target.value)"
      aria-label="Search">
  </form>

    <div class="card" *ngFor="let ev of evente">
      <div class="card-header bg-transparent" *ngIf="ev.idOwnerDto !== -1">
        <div class="btn-group" role="group" aria-label="Basic example" >
          <button type="button" class="btn btn-link" (click)="updateEvent(ev.idEvent)"><i class="fas fa-pen" ></i>&nbsp;Edit</button>
          <button type="button" class="btn btn-link" (click)="removeEvent(ev.idEvent)"><i class="fas fa-trash"></i>&nbsp;Remove</button>
          <button type="button" class="btn btn-link" *ngIf="ev.shared == 0" (click)="shareEvent(ev.idEvent, ev.shared)"><i class="fas fa-share-alt"></i>&nbsp;Share</button>
          <button type="button" class="btn btn-link" *ngIf="ev.shared == 1" (click)="shareEvent(ev.idEvent, ev.shared)"><i class="fas fa-share-alt" ></i>&nbsp;Unshare</button>
        </div>
      </div>
      <div class="card-header bg-transparent" *ngIf="ev.idOwnerDto === -1">
          <button type="button" class="btn btn-outline-primary btn-block btn-link"><i class="fas fa-share-alt"></i>&nbsp;Shared</button>
      </div>
      <img src="http://localhost:8080/v1/photos/artist/{{ev.idArtist}}" class="rounded-circle" width="50" height="50"onerror="this.src='assets/16-168360_user-add-user-icon-add-symbol-member-friend.png'">&nbsp;
      <b>{{ev.artistName}}&nbsp;{{ev.artistLastName}}</b>
      <p style="color: grey; font-size: 10px;">published :&nbsp;{{ev.dateOfCreatingDto}}</p>
      <img src="http://localhost:8080/v1/photos/event/{{ev.idEvent}}" class="card-img-top" style="width:100%; " onerror="this.src='assets/unnamed.png'">
      <div class="card-body">
        

        <h5 class="card-text"  [hidden]="!ev.typeEventDto"  >{{ev.typeEventDto}}</h5>
        <h6 [hidden]="!ev.categoriesDto"><b>categories :</b>&nbsp;{{ev.categoriesDto}}</h6>
        <p class="card-text" [hidden]="!ev.descriptionDto">{{ev.descriptionDto}}</p>
        <p class="card-text" [hidden]="!ev.commonDto"><b>Common :</b>&nbsp;{{ev.commonDto}}</p>
        <p class="card-text" [hidden]="!ev.streetDto"><b>Street :</b>&nbsp;{{ev.streetDto}}</p>
        <p class="card-text" [hidden]="!ev.zipCodeDto"><b>Zip code :</b>&nbsp;{{ev.zipCodeDto}}</p>
        <p class="card-text" [hidden]="!ev.phoneDto"><b>Phone :</b>&nbsp;{{ev.phoneDto}}</p>
        <p class="card-text" [hidden]="!ev.dateDto"><b>At :</b> &nbsp;{{ev.dateDto}}</p>

   

        <div *ngIf="currentFileUpload" class="progress">
          <div class="progress-bar progress-bar-info progress-bar-striped"
            role="progressbar" attr.aria-valuenow="{{progress.percentage}}"
            aria-valuemin="0" aria-valuemax="100"
            [ngStyle]="{width:progress.percentage+'%'}">
            {{progress.percentage}}%</div>
        </div>
         
        <label  class="btn btn-link" ><span style="color: red;">Choose photo</span> 
          <input type="file" (change)="onselectedFile($event)" class="uploadFile img" value="Upload Photo" style="width: 0px;height: 0px;overflow: hidden; ">
        </label>
        <br>
         
        <button class="btn btn-light" style="border: 1px solid black;" [disabled]="!selectedFiles"
          (click)="uploadPhoto(ev.idEvent)"><span style="color: brown; ;"><b>Upload</b></span></button>
        
          

</div>